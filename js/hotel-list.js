webpackJsonp([8],{0:function(e,a,i){e.exports=i(186)},5:function(e,a,i){"use strict";i(7),i(6);var t=i(2),l=i(1),n=i(3),s=i(12),o=(t.pages.travelStrategyList,{loadList:function(e,a){$(e).daqCreateModule({url:n.newsListRecursion+"?channelCode="+l.getUrlParam("channelCode"),template:s,pagination:!0,columnWidth:590,padding:25,params:a,limits:3,curr:1,size:6,loading:!0,callback:function(e){console.log(e);for(var a=0;a<e.length;a++)e[a].channelCode=l.getUrlParam("channelCode"),e[a].titles=e[a].title,e[a].cover?(e[a].height=163,e[a].title=l.ellipsisContent(e[a].title,15)):e[a].title=l.ellipsisContent(e[a].title,25),e[a].summary=l.ellipsisContent(e[a].summary,82);return e}})}});e.exports=o},6:function(e,a,i){var t=i(1),l=i(2);!function(e){function a(a,i){this.ele=a,this.config={template:"",url:"",columnWidth:0,padding:0,params:{},size:10,curr:1},i&&e.isPlainObject(i)&&e.extend(this.config,i)}a.prototype={init:function(){var a=this,i=a.config,t=a.ele.outerWidth(!0);i.params.page=1,i.params.pageSize=i.size,a.flag=!1,e(window).off("scroll"),a.ele.removeAttr("data-flag"),a.ele.html("").css("height","auto"),e(".loading,.no-more").remove(),a.arrHeight=[],a.num=Math.floor(t/i.columnWidth),a.margin=Math.floor((t-a.num*i.columnWidth)/(a.num-1)),i.columnWidth=i.columnWidth-2*i.padding,a.loadList(i.params)},getMinHeight:function(e){var a=Math.min.apply(null,e);for(var i in e)if(e[i]===a)return i},loadLoading:function(){var e=this;e.ele.append('<div class="loading"><i class="loading-ic"></i>'+l.loading()+"</div>")},loadList:function(a){var i=this,n=i.config;t.request({url:n.url,data:a,beforeSend:function(){i.ele.find(".loading")&&i.loadLoading()},success:function(a){i.ele.attr("data-flag","true"),i.ele.find(".loading").remove(),i.flag=!0,a.page&&(i.pages=a.page.totalPage,n.params.page=a.page.currPage),i.pages<=n.params.page&&i.ele.after('<div class="no-more">对不起，没有更多了</div>');var s=a.datas;if("function"==typeof n.callback&&(s=n.callback(s)),s.length){var o=e(t.renderHtml(n.template,{list:s}));i.ele.append(o)}else i.ele.html('<li class="no-data">'+l.noData+"</li>");var c=i.ele.find(".waterfall-item").fadeIn(500);c.each(function(a,t){if(a<i.num)i.arrHeight[a]=e(t).outerHeight(!0),e(t).css({width:n.columnWidth,left:n.columnWidth*a+i.margin*(a%i.num)+2*n.padding*(a%i.num),top:0});else{var l=i.getMinHeight(i.arrHeight);e(t).css({width:n.columnWidth,left:n.columnWidth*l+i.margin*(l%i.num)+2*n.padding*(l%i.num),top:i.arrHeight[l]}),i.arrHeight[l]+=e(t).outerHeight(!0)}}),i.ele.height(Math.max.apply(null,i.arrHeight)),i.scroll()}})},scroll:function(){var a=this,i=a.config;e(window).on("scroll",function(){var t=parseFloat(e(window).height())+parseFloat(e(window).scrollTop());e(document).height()<=t+100&&a.flag&&i.params.page<a.pages&&(a.flag=!1,i.params.page++,a.loadList(i.params))})}},window.Waterfall=a,e.fn.daqWaterfall=function(e){var i=new a(this,e);i.init()}}(window.jQuery||$)},7:function(e,a){},8:function(e,a){},9:function(e,a){e.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="region" data-value="{{region}}">{{name}} </li> {{/list}}'},10:function(e,a){e.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{id}}">{{title}} </li> {{/list}}'},11:function(e,a){e.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{skey}}">{{name}} </li> {{/list}}'},12:function(e,a){e.exports='{{#list}} <li class="item" data-id="{{id}}"> <a href="./news-details.html?id={{id}}&channelCode={{channelCode}}"> <div class="item-hd p-scale {{^cover}}no-photo{{/cover}}"> {{#cover}} <img src="{{cover}}" alt=""/> {{/cover}} </div> <div class="item-bd"> <h2 class="title" title="{{title}}"><i></i>{{title}}</h2> <p class="content" title="{{summary}}">{{#summary}}{{summaryText}}{{/summary}}{{^summary}}未知{{/summary}}</p> </div> </a> </li> {{/list}}'},13:function(e,a,i){i(8);var t=i(3),l=(i(1),i(2)),n=i(9),s=i(10),o=i(11),c=i(5),r={loadClass:function(e){"pic"===e?$(".js_filter_class").daqCreateModule({url:t.picType,template:s,params:{},callback:function(e){var a=e.datas;return a.unshift({name:"全部",code:"",active:"on"}),a},complete:function(){var e=$(".js_filter_class li").length;e<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}}):"scenery"===e&&$(".js_filter_class").daqCreateModule({url:t.sceneryType,template:o,params:{},callback:function(e){var a=e;return a.unshift({name:"全部",code:"",active:"on"}),a},complete:function(){var e=$(".js_filter_class li").length;e<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}})},loadTravelList:function(){$(".js_travel_list").daqCreateModule({url:t.newsList,template:c,callback:function(e){return e}})},loadArea:function(){this.eventBind(),$(".js_filter_area").daqCreateModule({url:t.area,template:n,callback:function(e){return e.unshift({name:"全部",active:"on",region:l.region}),e}})},eventBind:function(e){$(".filter-wrap .filter-list:last-child").css("border","none")}};e.exports=r},20:function(e,a){},79:function(e,a){e.exports='{{#list}} <li class="item" data-id="{{id}}"> <div class="item-hd p-scale {{^pictureTwoToOne}}no-photo{{/pictureTwoToOne}}"> <a href="./hotel-details.html?id={{id}}&channelCode={{channelCode}}"> {{#pictureTwoToOne}} <img src="{{pictureTwoToOne}}" alt=""/> {{/pictureTwoToOne}} </a> </div> <div class="item-bd"> <div class="post-hd"> <a title="{{name}}" href="./hotel-details.html?id={{id}}&channelCode={{channelCode}}" class="title">{{shortName}}</a> <span class="star">{{{level}}}</span> </div> <div class="post-bd"> <p><i class="daq-icon c-cyan">&#xe68b;</i><label>电话：</label>{{#phone}}{{phone}}{{/phone}}{{^phone}}未知{{/phone}}</p> <p title="{{address}}"><i class="daq-icon c-blue">&#xe689;</i><label>地址：</label>{{#address}}{{address}}{{/address}}{{^address}}未知{{/address}}</p> </div> </div> </li> {{/list}}'},151:function(e,a,i){"use strict";i(20);var t=i(3),l=i(1),n=i(79),s={loadList:function(e,a){$(e).daqCreateModule({url:t.hotelList,template:n,pagination:!0,size:6,curr:1,limits:3,params:a,loading:!0,callback:function(e){for(var a=0,i=e.length;a<i;a++)switch(e[a].shortName=l.ellipsisContent(e[a].name,15),e[a].channelCode=l.getUrlParam("channelCode"),e[a].level){case"一星级":e[a].level='<i class="daq-icon">&#xe685;</i>';break;case"二星级":e[a].level='<i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i>';break;case"三星级":e[a].level='<i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i>';break;case"四星级":e[a].level='<i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i>';break;case"五星级":e[a].level='<i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i><i class="daq-icon">&#xe685;</i>';break;default:e[a].level=""}return e}})}};e.exports=s},186:function(e,a,i){"use strict";var t=i(2),l=t.pages.hotelList;i(4);var n=i(13),s=i(151),o={init:function(){this.loadFilter(),this.loadList(),this.eventBind()},eventBind:function(){$(".nav > li").eq(2).addClass("active3");var e=l;$(".js_filter").on("click","li",function(){var a=$(this);a.addClass("on").siblings().removeClass("on"),e[a.attr("data-field")]=a.attr("data-value"),s.loadList(".js_hotel",e)})},loadFilter:function(){n.loadArea(),n.loadClass(l.typeCode)},loadList:function(){s.loadList(".js_hotel",l)}};$(function(){o.init()})}});