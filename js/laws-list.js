webpackJsonp([11],{0:function(e,t,a){e.exports=a(189)},5:function(e,t,a){"use strict";a(7),a(6);var i=a(2),l=a(1),n=a(3),s=a(12),o=(i.pages.travelStrategyList,{loadList:function(e,t){$(e).daqCreateModule({url:n.newsListRecursion+"?channelCode="+l.getUrlParam("channelCode"),template:s,pagination:!0,columnWidth:590,padding:25,params:t,limits:3,curr:1,size:6,loading:!0,callback:function(e){console.log(e);for(var t=0;t<e.length;t++)e[t].channelCode=l.getUrlParam("channelCode"),e[t].titles=e[t].title,e[t].cover?(e[t].height=163,e[t].title=l.ellipsisContent(e[t].title,15)):e[t].title=l.ellipsisContent(e[t].title,25),e[t].summary=l.ellipsisContent(e[t].summary,82);return e}})}});e.exports=o},6:function(e,t,a){var i=a(1),l=a(2);!function(e){function t(t,a){this.ele=t,this.config={template:"",url:"",columnWidth:0,padding:0,params:{},size:10,curr:1},a&&e.isPlainObject(a)&&e.extend(this.config,a)}t.prototype={init:function(){var t=this,a=t.config,i=t.ele.outerWidth(!0);a.params.page=1,a.params.pageSize=a.size,t.flag=!1,e(window).off("scroll"),t.ele.removeAttr("data-flag"),t.ele.html("").css("height","auto"),e(".loading,.no-more").remove(),t.arrHeight=[],t.num=Math.floor(i/a.columnWidth),t.margin=Math.floor((i-t.num*a.columnWidth)/(t.num-1)),a.columnWidth=a.columnWidth-2*a.padding,t.loadList(a.params)},getMinHeight:function(e){var t=Math.min.apply(null,e);for(var a in e)if(e[a]===t)return a},loadLoading:function(){var e=this;e.ele.append('<div class="loading"><i class="loading-ic"></i>'+l.loading()+"</div>")},loadList:function(t){var a=this,n=a.config;i.request({url:n.url,data:t,beforeSend:function(){a.ele.find(".loading")&&a.loadLoading()},success:function(t){a.ele.attr("data-flag","true"),a.ele.find(".loading").remove(),a.flag=!0,t.page&&(a.pages=t.page.totalPage,n.params.page=t.page.currPage),a.pages<=n.params.page&&a.ele.after('<div class="no-more">对不起，没有更多了</div>');var s=t.datas;if("function"==typeof n.callback&&(s=n.callback(s)),s.length){var o=e(i.renderHtml(n.template,{list:s}));a.ele.append(o)}else a.ele.html('<li class="no-data">'+l.noData+"</li>");var r=a.ele.find(".waterfall-item").fadeIn(500);r.each(function(t,i){if(t<a.num)a.arrHeight[t]=e(i).outerHeight(!0),e(i).css({width:n.columnWidth,left:n.columnWidth*t+a.margin*(t%a.num)+2*n.padding*(t%a.num),top:0});else{var l=a.getMinHeight(a.arrHeight);e(i).css({width:n.columnWidth,left:n.columnWidth*l+a.margin*(l%a.num)+2*n.padding*(l%a.num),top:a.arrHeight[l]}),a.arrHeight[l]+=e(i).outerHeight(!0)}}),a.ele.height(Math.max.apply(null,a.arrHeight)),a.scroll()}})},scroll:function(){var t=this,a=t.config;e(window).on("scroll",function(){var i=parseFloat(e(window).height())+parseFloat(e(window).scrollTop());e(document).height()<=i+100&&t.flag&&a.params.page<t.pages&&(t.flag=!1,a.params.page++,t.loadList(a.params))})}},window.Waterfall=t,e.fn.daqWaterfall=function(e){var a=new t(this,e);a.init()}}(window.jQuery||$)},7:function(e,t){},8:function(e,t){},9:function(e,t){e.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="region" data-value="{{region}}">{{name}} </li> {{/list}}'},10:function(e,t){e.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{id}}">{{title}} </li> {{/list}}'},11:function(e,t){e.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{skey}}">{{name}} </li> {{/list}}'},12:function(e,t){e.exports='{{#list}} <li class="item" data-id="{{id}}"> <a href="./news-details.html?id={{id}}&channelCode={{channelCode}}"> <div class="item-hd p-scale {{^cover}}no-photo{{/cover}}"> {{#cover}} <img src="{{cover}}" alt=""/> {{/cover}} </div> <div class="item-bd"> <h2 class="title" title="{{title}}"><i></i>{{title}}</h2> <p class="content" title="{{summary}}">{{#summary}}{{summaryText}}{{/summary}}{{^summary}}未知{{/summary}}</p> </div> </a> </li> {{/list}}'},13:function(e,t,a){a(8);var i=a(3),l=(a(1),a(2)),n=a(9),s=a(10),o=a(11),r=a(5),c={loadClass:function(e){"pic"===e?$(".js_filter_class").daqCreateModule({url:i.picType,template:s,params:{},callback:function(e){var t=e.datas;return t.unshift({name:"全部",code:"",active:"on"}),t},complete:function(){var e=$(".js_filter_class li").length;e<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}}):"scenery"===e&&$(".js_filter_class").daqCreateModule({url:i.sceneryType,template:o,params:{},callback:function(e){var t=e;return t.unshift({name:"全部",code:"",active:"on"}),t},complete:function(){var e=$(".js_filter_class li").length;e<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}})},loadTravelList:function(){$(".js_travel_list").daqCreateModule({url:i.newsList,template:r,callback:function(e){return e}})},loadArea:function(){this.eventBind(),$(".js_filter_area").daqCreateModule({url:i.area,template:n,callback:function(e){return e.unshift({name:"全部",active:"on",region:l.region}),e}})},eventBind:function(e){$(".filter-wrap .filter-list:last-child").css("border","none")}};e.exports=c},36:function(e,t){},81:function(e,t){e.exports='{{#list}} <li class="laws-item"> <a href="./news-details.html?id={{id}}&channelCode={{channelCode}}" title="{{title}}"> <h4 class="laws-tit"><i></i><i class="line-small"></i>{{title}}</h4> <p class="laws-info">{{#summary}}{{summary}}{{/summary}}{{^summary}}暂无{{/summary}}</p> </a> </li> {{/list}} {{^list}} <p class="error">很抱歉，实在找不到您要的商品。</p> {{/list}}'},153:function(e,t,a){"use strict";a(36);var i=a(1),l=a(81),n=a(3),s={loadList:function(e,t){$(e).daqCreateModule({url:n.newsList+"?channelCode="+i.getUrlParam("channelCode"),template:l,pagination:!0,loading:!0,size:6,curr:1,limits:3,params:t,callback:function(e){for(var t=0;t<e.length;t++)e[t].channelCode=i.getUrlParam("channelCode"),e[t].summary=i.ellipsisContent(e[t].summary,100);return e}})}};e.exports=s},189:function(e,t,a){"use strict";var i=a(2),l=i.pages.lawsList;a(4);var n=a(13),s=a(153),o=a(1),r={init:function(){this.loadFilter(),this.loadList(),this.eventBind();var e=o.getUrlParam("channelCode");"lyjdf"===e?document.title="乌鲁木齐市旅游-旅游解读法":"lywd"===e&&(document.title="乌鲁木齐市旅游-旅游问答")},eventBind:function(){$(".nav > li").eq(6).addClass("active6");var e=l;$(".js_filter").on("click",".item",function(){var t=$(this);t.addClass("on").siblings().removeClass("on"),e[t.attr("data-field")]=t.attr("data-value"),s.loadList(".js_laws",e)})},loadFilter:function(){n.loadClass(l.typeCode)},loadList:function(){s.loadList(".js_laws",{channelCode:l.channelCode})}};$(function(){r.init()})}});