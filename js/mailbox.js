webpackJsonp([40],{0:function(t,e,n){t.exports=n(191)},60:function(t,e){},191:function(t,e,n){n(60);var i=n(1),s=n(3),a={_init:function(){this.bindEvent()},bindEvent:function(){var t=this;$(".submits").click(function(){t.submit()})},formValidate:function(t){var e=this,n={msg:"",status:!1},t={name:$(".name"),title:$(".t-title"),who:$(".who"),content:$(".content")};return i.validate(t.name.val(),"require")&&i.validate(t.name.val(),"chinese")&&i.validate(t.name.val(),"length",1,16)?(e.sensitiveWords(t.name.siblings("p"),t.name.val()),t.name.focus(),t.name.siblings("p").text(""),i.validate(t.title.val(),"require")&&i.validate(t.title.val(),"chinese")&&i.validate(t.title.val(),"length",5,21)?(e.sensitiveWords(t.title.siblings("p"),t.title.val()),t.title.focus(),t.title.siblings("p").text(""),i.validate(t.content.val(),"require")&&i.validate(t.content.val(),"length",5,201)?(e.sensitiveWords(t.content.siblings("p"),t.content.val()),t.content.focus(),t.content.siblings("p").text(""),n.status=!0,n.msg="验证成功",n):(t.content.siblings("p").text("长度请保持在6~200个字符以内"),!1)):(t.title.siblings("p").text("长度请保持在6~21个字符以内英文或汉字"),!1)):(t.name.siblings("p").text("请保持在2~15个字符以内的英文或汉字"),!1)},submit:function(){var t={name:$(".name").val(),title:$(".t-title").val(),who:$(".who").val(),content:encodeURIComponent($(".content").val())},e=this.formValidate(t);e.status&&i.request({method:"POST",url:s.subCopmlaint,type:"json",data:t,success:function(t){0===t.code?($("#mailbox-from")[0].reset(),alert("提交成功")):alert("提交出错")}})},sensitiveWords:function(t,e){i.request({method:"POST",url:s.sensitiveWords,type:"json",data:{data:e},success:function(e){2===e.code&&t.text("你输入的内容包含敏感词汇")}})}};$(function(){a._init()})}});