webpackJsonp([12],{0:function(t,e,a){t.exports=a(212)},5:function(t,e,a){"use strict";a(7),a(6);var i=a(2),l=a(1),n=a(3),o=a(12),s=(i.pages.travelStrategyList,{loadList:function(t,e){$(t).daqCreateModule({url:n.newsListRecursion+"?channelCode="+l.getUrlParam("channelCode"),template:o,pagination:!0,columnWidth:590,padding:25,params:e,limits:3,curr:1,size:6,loading:!0,callback:function(t){console.log(t);for(var e=0;e<t.length;e++)t[e].channelCode=l.getUrlParam("channelCode"),t[e].titles=t[e].title,t[e].cover?(t[e].height=163,t[e].title=l.ellipsisContent(t[e].title,15)):t[e].title=l.ellipsisContent(t[e].title,25),t[e].summary=l.ellipsisContent(t[e].summary,82);return t}})}});t.exports=s},6:function(t,e,a){var i=a(1),l=a(2);!function(t){function e(e,a){this.ele=e,this.config={template:"",url:"",columnWidth:0,padding:0,params:{},size:10,curr:1},a&&t.isPlainObject(a)&&t.extend(this.config,a)}e.prototype={init:function(){var e=this,a=e.config,i=e.ele.outerWidth(!0);a.params.page=1,a.params.pageSize=a.size,e.flag=!1,t(window).off("scroll"),e.ele.removeAttr("data-flag"),e.ele.html("").css("height","auto"),t(".loading,.no-more").remove(),e.arrHeight=[],e.num=Math.floor(i/a.columnWidth),e.margin=Math.floor((i-e.num*a.columnWidth)/(e.num-1)),a.columnWidth=a.columnWidth-2*a.padding,e.loadList(a.params)},getMinHeight:function(t){var e=Math.min.apply(null,t);for(var a in t)if(t[a]===e)return a},loadLoading:function(){var t=this;t.ele.append('<div class="loading"><i class="loading-ic"></i>'+l.loading()+"</div>")},loadList:function(e){var a=this,n=a.config;i.request({url:n.url,data:e,beforeSend:function(){a.ele.find(".loading")&&a.loadLoading()},success:function(e){a.ele.attr("data-flag","true"),a.ele.find(".loading").remove(),a.flag=!0,e.page&&(a.pages=e.page.totalPage,n.params.page=e.page.currPage),a.pages<=n.params.page&&a.ele.after('<div class="no-more">对不起，没有更多了</div>');var o=e.datas;if("function"==typeof n.callback&&(o=n.callback(o)),o.length){var s=t(i.renderHtml(n.template,{list:o}));a.ele.append(s)}else a.ele.html('<li class="no-data">'+l.noData+"</li>");var r=a.ele.find(".waterfall-item").fadeIn(500);r.each(function(e,i){if(e<a.num)a.arrHeight[e]=t(i).outerHeight(!0),t(i).css({width:n.columnWidth,left:n.columnWidth*e+a.margin*(e%a.num)+2*n.padding*(e%a.num),top:0});else{var l=a.getMinHeight(a.arrHeight);t(i).css({width:n.columnWidth,left:n.columnWidth*l+a.margin*(l%a.num)+2*n.padding*(l%a.num),top:a.arrHeight[l]}),a.arrHeight[l]+=t(i).outerHeight(!0)}}),a.ele.height(Math.max.apply(null,a.arrHeight)),a.scroll()}})},scroll:function(){var e=this,a=e.config;t(window).on("scroll",function(){var i=parseFloat(t(window).height())+parseFloat(t(window).scrollTop());t(document).height()<=i+100&&e.flag&&a.params.page<e.pages&&(e.flag=!1,a.params.page++,e.loadList(a.params))})}},window.Waterfall=e,t.fn.daqWaterfall=function(t){var a=new e(this,t);a.init()}}(window.jQuery||$)},7:function(t,e){},8:function(t,e){},9:function(t,e){t.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="region" data-value="{{region}}">{{name}} </li> {{/list}}'},10:function(t,e){t.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{id}}">{{title}} </li> {{/list}}'},11:function(t,e){t.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{skey}}">{{name}} </li> {{/list}}'},12:function(t,e){t.exports='{{#list}} <li class="item" data-id="{{id}}"> <a href="./news-details.html?id={{id}}&channelCode={{channelCode}}"> <div class="item-hd p-scale {{^cover}}no-photo{{/cover}}"> {{#cover}} <img src="{{cover}}" alt=""/> {{/cover}} </div> <div class="item-bd"> <h2 class="title" title="{{title}}"><i></i>{{title}}</h2> <p class="content" title="{{summary}}">{{#summary}}{{summaryText}}{{/summary}}{{^summary}}未知{{/summary}}</p> </div> </a> </li> {{/list}}'},13:function(t,e,a){a(8);var i=a(3),l=(a(1),a(2)),n=a(9),o=a(10),s=a(11),r=a(5),c={loadClass:function(t){"pic"===t?$(".js_filter_class").daqCreateModule({url:i.picType,template:o,params:{},callback:function(t){var e=t.datas;return e.unshift({name:"全部",code:"",active:"on"}),e},complete:function(){var t=$(".js_filter_class li").length;t<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}}):"scenery"===t&&$(".js_filter_class").daqCreateModule({url:i.sceneryType,template:s,params:{},callback:function(t){var e=t;return e.unshift({name:"全部",code:"",active:"on"}),e},complete:function(){var t=$(".js_filter_class li").length;t<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}})},loadTravelList:function(){$(".js_travel_list").daqCreateModule({url:i.newsList,template:r,callback:function(t){return t}})},loadArea:function(){this.eventBind(),$(".js_filter_area").daqCreateModule({url:i.area,template:n,callback:function(t){return t.unshift({name:"全部",active:"on",region:l.region}),t}})},eventBind:function(t){$(".filter-wrap .filter-list:last-child").css("border","none")}};t.exports=c},35:function(t,e){},80:function(t,e){t.exports='{{#list}} <li class="waterfall-item"> {{#cover}} <a href="news-details.html?id={{id}}&channelCode={{channelCode}}" class="info-bg"> <img src="{{coverFourToThree}}" height="{{height}}"/> </a> {{/cover}} <div class="info-con {{#cover}}w310{{/cover}}{{^cover}}w100{{/cover}}"> <div class="info-title"> <a href="news-details.html?id={{id}}&channelCode={{channelCode}}" title="{{titles}}">{{title}}</a> <p>{{publishtime}}</p> </div> {{#summary}} <div class="info-text"> {{summary}} </div> {{/summary}} {{^summary}} <div class="info-text"> 暂无摘要 </div> {{/summary}} </div> </li> {{/list}}'},152:function(t,e,a){a(35);var i=a(80),l=a(1),n=a(3);a(6);var o={infoList:function(t,e){$(t).daqWaterfall({url:n.newsList+"?channelCode="+l.getUrlParam("channelCode"),template:i,columnWidth:590,padding:25,params:e,size:10,callback:function(t){console.log(t);for(var e=0;e<t.length;e++)t[e].channelCode=l.getUrlParam("channelCode"),t[e].titles=t[e].title,t[e].cover?(t[e].height=163,t[e].title=l.ellipsisContent(t[e].title,15)):t[e].title=l.ellipsisContent(t[e].title,25),t[e].summary=l.ellipsisContent(t[e].summary,82);return t}})}};t.exports=o},212:function(t,e,a){"use strict";a(4);var i=a(13),l=a(152),n=a(2),o=n.pages.travelInformationList,s=a(1),r={init:function(){this.eventBind(),this.loadFilter(),this.loaderInfoList();var t=s.getUrlParam("channelCode");"fsjq"===t?document.title="乌鲁木齐市旅游-风俗节庆":"zthd"===t?document.title="乌鲁木齐市旅游-专题活动":"tjlx"===t&&(document.title="乌鲁木齐市旅游-推荐路线")},eventBind:function(){var t=s.getUrlParam("channelCode");"zthd"===t||"tjlx"===t||"ztly"===t||"zjy"===t?$(".nav > li").eq(4).addClass("active4"):"lyzx"===t||""===t||""===t?$(".nav > li").eq(1).addClass("active2"):"fsjq"===t||""===t||""===t?$(".nav > li").eq(2).addClass("active3"):"aqts"!==t&&"aqcs"!==t&&"lyyjdh"!==t||$(".nav > li").eq(5).addClass("active5");var e=o;$(".js_filter").on("click",".item",function(){var t=$(this);return!t.hasClass("on")&&(!!$(".js_information").attr("data-flag")&&(t.addClass("on").siblings().removeClass("on"),e[t.attr("data-field")]=t.attr("data-value"),void l.infoList(".js_information",e)))})},loadFilter:function(){i.loadClass(o.typeCode)},loaderInfoList:function(){l.infoList(".js_information",o)}};$(function(){r.init()})}});