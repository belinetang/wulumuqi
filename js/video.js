webpackJsonp([4],{0:function(i,t,e){i.exports=e(217)},5:function(i,t,e){"use strict";e(7),e(6);var a=e(2),n=e(1),l=e(3),o=e(12),s=(a.pages.travelStrategyList,{loadList:function(i,t){$(i).daqCreateModule({url:l.newsListRecursion+"?channelCode="+n.getUrlParam("channelCode"),template:o,pagination:!0,columnWidth:590,padding:25,params:t,limits:3,curr:1,size:6,loading:!0,callback:function(i){console.log(i);for(var t=0;t<i.length;t++)i[t].channelCode=n.getUrlParam("channelCode"),i[t].titles=i[t].title,i[t].cover?(i[t].height=163,i[t].title=n.ellipsisContent(i[t].title,15)):i[t].title=n.ellipsisContent(i[t].title,25),i[t].summary=n.ellipsisContent(i[t].summary,82);return i}})}});i.exports=s},6:function(i,t,e){var a=e(1),n=e(2);!function(i){function t(t,e){this.ele=t,this.config={template:"",url:"",columnWidth:0,padding:0,params:{},size:10,curr:1},e&&i.isPlainObject(e)&&i.extend(this.config,e)}t.prototype={init:function(){var t=this,e=t.config,a=t.ele.outerWidth(!0);e.params.page=1,e.params.pageSize=e.size,t.flag=!1,i(window).off("scroll"),t.ele.removeAttr("data-flag"),t.ele.html("").css("height","auto"),i(".loading,.no-more").remove(),t.arrHeight=[],t.num=Math.floor(a/e.columnWidth),t.margin=Math.floor((a-t.num*e.columnWidth)/(t.num-1)),e.columnWidth=e.columnWidth-2*e.padding,t.loadList(e.params)},getMinHeight:function(i){var t=Math.min.apply(null,i);for(var e in i)if(i[e]===t)return e},loadLoading:function(){var i=this;i.ele.append('<div class="loading"><i class="loading-ic"></i>'+n.loading()+"</div>")},loadList:function(t){var e=this,l=e.config;a.request({url:l.url,data:t,beforeSend:function(){e.ele.find(".loading")&&e.loadLoading()},success:function(t){e.ele.attr("data-flag","true"),e.ele.find(".loading").remove(),e.flag=!0,t.page&&(e.pages=t.page.totalPage,l.params.page=t.page.currPage),e.pages<=l.params.page&&e.ele.after('<div class="no-more">对不起，没有更多了</div>');var o=t.datas;if("function"==typeof l.callback&&(o=l.callback(o)),o.length){var s=i(a.renderHtml(l.template,{list:o}));e.ele.append(s)}else e.ele.html('<li class="no-data">'+n.noData+"</li>");var r=e.ele.find(".waterfall-item").fadeIn(500);r.each(function(t,a){if(t<e.num)e.arrHeight[t]=i(a).outerHeight(!0),i(a).css({width:l.columnWidth,left:l.columnWidth*t+e.margin*(t%e.num)+2*l.padding*(t%e.num),top:0});else{var n=e.getMinHeight(e.arrHeight);i(a).css({width:l.columnWidth,left:l.columnWidth*n+e.margin*(n%e.num)+2*l.padding*(n%e.num),top:e.arrHeight[n]}),e.arrHeight[n]+=i(a).outerHeight(!0)}}),e.ele.height(Math.max.apply(null,e.arrHeight)),e.scroll()}})},scroll:function(){var t=this,e=t.config;i(window).on("scroll",function(){var a=parseFloat(i(window).height())+parseFloat(i(window).scrollTop());i(document).height()<=a+100&&t.flag&&e.params.page<t.pages&&(t.flag=!1,e.params.page++,t.loadList(e.params))})}},window.Waterfall=t,i.fn.daqWaterfall=function(i){var e=new t(this,i);e.init()}}(window.jQuery||$)},7:function(i,t){},8:function(i,t){},9:function(i,t){i.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="region" data-value="{{region}}">{{name}} </li> {{/list}}'},10:function(i,t){i.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{id}}">{{title}} </li> {{/list}}'},11:function(i,t){i.exports='{{#list}} <li class="item {{#active}}on{{/active}}" data-field="tag" data-value="{{skey}}">{{name}} </li> {{/list}}'},12:function(i,t){i.exports='{{#list}} <li class="item" data-id="{{id}}"> <a href="./news-details.html?id={{id}}&channelCode={{channelCode}}"> <div class="item-hd p-scale {{^cover}}no-photo{{/cover}}"> {{#cover}} <img src="{{cover}}" alt=""/> {{/cover}} </div> <div class="item-bd"> <h2 class="title" title="{{title}}"><i></i>{{title}}</h2> <p class="content" title="{{summary}}">{{#summary}}{{summaryText}}{{/summary}}{{^summary}}未知{{/summary}}</p> </div> </a> </li> {{/list}}'},13:function(i,t,e){e(8);var a=e(3),n=(e(1),e(2)),l=e(9),o=e(10),s=e(11),r=e(5),d={loadClass:function(i){"pic"===i?$(".js_filter_class").daqCreateModule({url:a.picType,template:o,params:{},callback:function(i){var t=i.datas;return t.unshift({name:"全部",code:"",active:"on"}),t},complete:function(){var i=$(".js_filter_class li").length;i<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}}):"scenery"===i&&$(".js_filter_class").daqCreateModule({url:a.sceneryType,template:s,params:{},callback:function(i){var t=i;return t.unshift({name:"全部",code:"",active:"on"}),t},complete:function(){var i=$(".js_filter_class li").length;i<2&&($(".filter-choose-class").hide(),$(".filter-wrap2").hide())}})},loadTravelList:function(){$(".js_travel_list").daqCreateModule({url:a.newsList,template:r,callback:function(i){return i}})},loadArea:function(){this.eventBind(),$(".js_filter_area").daqCreateModule({url:a.area,template:l,callback:function(i){return i.unshift({name:"全部",active:"on",region:n.region}),i}})},eventBind:function(i){$(".filter-wrap .filter-list:last-child").css("border","none")}};i.exports=d},26:function(i,t){},29:function(i,t,e){e(26),e(30)},30:function(i,t,e){var a=e(1);!function(i){function t(t){this.config={mediaTitle:"这里可以放视频标题",swfUrl:"src/media/flvplayer.swf",mediaUrl:"",mediaImg:"src/media/body_bg.jpg"},t&&i.isPlainObject(t)&&i.extend(this.config,t)}t.prototype={_init:function(){var i=this;i._createPopup(),i._videoLoading(),i.eventBind(),i.show()},_createPopup:function(){var t=this;t.str='<div class="media-popup" id="popup"><div class="media-hd media-close"><a href="javascript:;" class="daq-icon">&#xe6b8;</a></div><div class="media-content"><div class="media-wrap" id="media-wrap"></div><div class="media-title"><span title='+t.config.mediaTitle+">"+t.config.mediaTitle+'</span><div class="shares daq-icon fr">&#xe684;<label id="bdshare" class="bdsharebuttonbox bdshare_t bds_tools_32 bdshare-button-style2-16 fr" style="position:absolute;top:0;display:block;left:0;width:100%;height:100%" data-bd-bind="1506499032503"><a class="bds_more" title="" data-img="" data-cmd="more" style="position:absolute;z-index:10;margin:0;padding:0;background:0 0;left:0;top:0;width:100%;height:100%;display:inline-block;border:0"></a></label></div></div></div></div>',i("body").append(t.str),a.share(),t.$popup=i(".media-popup"),t.$close=i(".media-close")},computeImgPosition:function(){var t=i(window).height(),e=(i(window).width(),parseInt(.7*t)),a=parseInt(e/.75);return i(".media-content").animate({width:a,height:e,marginLeft:-a/2,marginTop:-e/2},200),{width:a,height:e}},_videoLoading:function(){var t=this.computeImgPosition(),e=this,a='<embed type="application/x-shockwave-flash" src="'+e.config.swfUrl+'" width='+t.width+" height="+(t.height-60)+' id="single" name="single" quality="high" allowfullscreen="true" wmode="opaque" flashvars="autostart=true&amp;backcolor=0x000000&amp;frontcolor=0xCCCCCC&amp;file='+e.config.mediaUrl+"&amp;image="+e.config.mediaImg+"&amp;width="+t.width+"&amp;height="+(t.height-60)+'" title="Adobe Flash Player">';i("#media-wrap").html(a)},eventBind:function(){var t=this;t.$popup.on("click",function(e){var a=i(e.target).attr("class");return"media-popup"===a&&void t.hide()}),t.$close.on("click",function(){t.hide()})},show:function(){this.$popup.stop().fadeIn(500)},hide:function(){var i=this;i.$popup.stop().fadeOut(500,function(){i.$popup.remove()})}},i.daqVideo=function(i){var e=new t(i);return e._init()}}(window.jQuery||$)},39:function(i,t){},89:function(i,t){i.exports=' {{#list}} <li class="items"> <div class="video-box {{^cover}}no-photo{{/cover}}"> {{#coverpicture}} <img src="{{coverpicture}}" class="video-img"/> {{/coverpicture}} <p class="play-box"> <span class="daq-icon icon play" title="播放" data-id="{{id}}" data-url="{{upload}}" data-img="{{coverpicture}}" data-title="{{title}}">&#xe6a1;</span> <span class="v-tit" title="{{title}}">{{titles}}</span> </p> <p class="video-bg"></p> </div> <p class="v-btn"> <a class="play-btn"><span class="daq-icon">&#xe6a2;</span> 播放 (<span class="playnum">{{playCount}}</span>)</a> </p> </li> {{/list}}'},161:function(i,t,e){e(39);var a=e(89),n=e(3),l=e(1),o={loadVideo:function(i,t,e){$(i).daqCreateModule({url:n.videoList,template:a,pagination:!0,size:6,curr:1,limits:3,loading:!0,params:t,callback:function(i){for(var t=0;t<i.length;t++)i[t].titles=l.ellipsisContent(i[t].title,15),i[t].titles01=l.ellipsisContent(i[t].title,35);return i},complete:function(){e()}})},playStatistics:function(i,t,e){$(i).daqCreateModule({url:n.vadeoPlay(e),callback:function(i){return i},complete:function(){t()}})}};i.exports=o},217:function(i,t,e){e(4);var a=e(13),n=e(161),l=e(2),o=e(3);e(29);var s=(e(1),l.pages.videoList),r={init:function(){this.loadFilter(),this.loadVideo(),this.eventBind(),this.clickParise()},eventBind:function(){$(".nav > li").eq(1).addClass("active2");var i=this,t={region:s.region};$(".js_filter").on("click",".item",function(){var e=$(this);e.addClass("on").siblings().removeClass("on"),t[e.attr("data-field")]=e.attr("data-value"),n.loadVideo(".js_video",t,function(){i.playVideo()})})},loadFilter:function(){a.loadClass(s.typeCode)},loadVideo:function(){var i=this;n.loadVideo(".js_video",{tag:s.tag},function(){i.playVideo()})},playVideo:function(){$(".play-box").on("click",function(){var i=$(this),t=i.find(".play"),e=t.attr("data-img"),a=t.attr("data-url"),n=t.attr("data-title"),l=t.attr("data-id");$.daqVideo({mediaTitle:n,mediaUrl:a,mediaImg:e,swfUrl:"http://filealiyun.geeker.com.cn/ued/geekUI/media/flvplayer.swf"}),$("").daqCreateModule({url:o.vadeoPlay(),params:{reId:l,sourceType:"video"},callback:function(i){return i}});var s=i.parents(".video-box").siblings(".v-btn").find(".playnum"),r=parseInt(s.html());s.html(r+1)}),$(".video-bg").on("click",function(i){}),$(".play-btn").on("click",function(){$(this).parents(".v-btn").siblings(".video-box").find(".play").trigger("click")})},clickParise:function(){$(".js_video").on("click",".dz-btn",function(i){i.stopPropagation();var t=$(this),e=t.attr("data-id");t.daqInteraction({resourceId:e,type:"praise",resourceType:"video"})})}};$(function(){r.init()})}});