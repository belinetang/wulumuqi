webpackJsonp([24],{0:function(a,e,s){a.exports=s(220)},72:function(a,e){},140:function(a,e){a.exports='<div class="weaterBg {{className}}"></div> <div class="weater"> <div class="weater-hd weater-hd1"> <div class="fl"> <div class="rows01"> <h2 class="name">{{basic.cnty}}{{#basic.name}}-{{basic.name}}{{/basic.name}}</h2> <div class="select opacity"> <a href="javascript:;">城市切换 <span class="daq-icon">&#xe605;</span></a> <ul class="mask js_list"> </ul> </div> </div> <div class="rows"> <span class="iconfont today">{{{today.cond.unicode}}}</span> <strong class="degree">{{today.tmp}}<span>°C</span></strong> <span class="weather-text">{{today.cond.txt}}</span> </div> <div class="rows"> <span class="mass"><i class="daq-icon">&#xe60e;</i>实时空气质量：{{#today.qlty}}{{today.qlty}}{{/today.qlty}}{{^today.qlty}}--{{/today.qlty}}</span> <span class="temperature"><i class="daq-icon">&#xe601;</i>湿度：{{today.hum}}%</span> <span class="wind"><i class="daq-icon">&#xe608;</i>{{today.wind.dir}}</span> </div> </div> <div class="fr"> <div class="rows"> <span class="info">AQI：{{#aqi.aqi}}{{aqi.aqi}}{{/aqi.aqi}}{{^aqi.aqi}}--{{/aqi.aqi}}，{{#aqi.qlty}}{{aqi.qlty}}{{/aqi.qlty}}{{^aqi.qlty}}--{{/aqi.qlty}}</span> </div> <div class="rows js_date"></div> </div> </div> <div class="weater-bd"> <ul class="thead"> <li> <p class="name">PM2.5</p> <p class="value"><span class="num">{{#aqi.pm25}}{{aqi.pm25}}{{/aqi.pm25}}{{^aqi.pm25}}--{{/aqi.pm25}}</span>μg/m³</p> </li> <li> <p class="name">PM10</p> <p class="value"><span class="num">{{#aqi.pm10}}{{aqi.pm10}}{{/aqi.pm10}}{{^aqi.pm10}}--{{/aqi.pm10}}</span>μg/m³</p> </li> <li> <p class="name">NO<span class="sub">2</span></p> <p class="value"><span class="num">{{#aqi.no2}}{{aqi.no2}}{{/aqi.no2}}{{^aqi.no2}}--{{/aqi.no2}}</span>μg/m³</p> </li> <li> <p class="name">SO<span class="sub">2</span></p> <p class="value"><span class="num">{{#aqi.so2}}{{aqi.so2}}{{/aqi.so2}}{{^aqi.so2}}--{{/aqi.so2}}</span>μg/m³</p> </li> <li> <p class="name">O<span class="sub">3</span></p> <p class="value"><span class="num">{{#aqi.o3}}{{aqi.o3}}{{/aqi.o3}}{{^aqi.o3}}--{{/aqi.o3}}</span>μg/m³</p> </li> <li> <p class="name">CO</p> <p class="value"><span class="num">{{#aqi.co}}{{aqi.co}}{{/aqi.co}}{{^aqi.co}}--{{/aqi.co}}</span>μg/m³</p> </li> </ul> <ul class="tbody"> <li> <h3 class="title">对健康的影响情况</h3> <p class="content">{{suggestion.comf.txt}}</p> </li> <li> <h3 class="title">建议采取的措施</h3> <p class="content">{{suggestion.sport.txt}}</p> </li> </ul> </div> <div class="weater-ft"> <ul> {{#daily_forecast}} <li> <p class="title">{{week}}</p> <p class="data">{{date}}</p> <p class="ic iconfont">{{{cond.unicode_d}}}</p> <p class="weather-text">{{cond.txt_d}}</p> <p class="degree">{{tmp.min}}°C~{{tmp.max}}°C</p> <p class="wind-direction">{{wind.sc}}</p> </li> {{/daily_forecast}} </ul> </div> </div>'},218:function(a,e){function s(){var a=new Date,e=a.getFullYear(),s=a.getMonth()+1,t=a.getDate();a.getDay(),parseInt(a.getTime()/1e3);return e<100&&(e="19"+e),c(e,s,t)}function t(a,e){return a>>e&1}function i(){d=3!=arguments.length?new Date:new Date(arguments[0],arguments[1],arguments[2]);var a,e,s,i,n=!1,c=d.getYear();for(c<1900&&(c+=1900),a=365*(c-1921)+Math.floor((c-1921)/4)+h[d.getMonth()]+d.getDate()-38,d.getYear()%4==0&&d.getMonth()>1&&a++,e=0;;e++){for(i=p[e]<4095?11:12,s=i;s>=0;s--){if(a<=29+t(p[e],s)){n=!0;break}a=a-29-t(p[e],s)}if(n)break}r=1921+e,o=i-s+1,l=a,12==i&&(o==Math.floor(p[e]/65536)+1&&(o=1-o),o>Math.floor(p[e]/65536)+1&&o--)}function n(){var a="";return o<1?(a+="(闰)",a+=m.charAt(-o-1)):a+=m.charAt(o-1),a+="月",a+=l<11?"初":l<20?"十":l<30?"廿":"三十",l%10==0&&10!=l||(a+=u.charAt((l-1)%10)),a}function c(a,e,s){return a<1921||a>2020?"":(e=parseInt(e)>0?e-1:11,i(a,e,s),n())}var r,o,l,d,p=new Array(100),h=new Array(12),u="一二三四五六七八九十",m="正二三四五六七八九十冬腊";p=new Array(2635,333387,1701,1748,267701,694,2391,133423,1175,396438,3402,3749,331177,1453,694,201326,2350,465197,3221,3402,400202,2901,1386,267611,605,2349,137515,2709,464533,1738,2901,330421,1242,2651,199255,1323,529706,3733,1706,398762,2741,1206,267438,2647,1318,204070,3477,461653,1386,2413,330077,1197,2637,268877,3365,531109,2900,2922,398042,2395,1179,267415,2635,661067,1701,1748,398772,2742,2391,330031,1175,1611,200010,3749,527717,1452,2742,332397,2350,3222,268949,3402,3493,133973,1386,464219,605,2349,334123,2709,2890,267946,2773,592565,1210,2651,395863,1323,2707,265877),h[0]=0,h[1]=31,h[2]=59,h[3]=90,h[4]=120,h[5]=151,h[6]=181,h[7]=212,h[8]=243,h[9]=273,h[10]=304,h[11]=334,a.exports=s},219:function(a,e){var s=function(a){function e(){return h}function s(){return u}function t(){return m}function i(){return w}function n(a){return h+a+u+a+m}function c(){return(w<10?"0"+w:w)+":"+(f<10?"0"+f:f)+":"+(g<10?"0"+g:g)}function r(){var a="星期";switch(v){case 1:a+="一";break;case 2:a+="二";break;case 3:a+="三";break;case 4:a+="四";break;case 5:a+="五";break;case 6:a+="六";break;case 0:a+="日"}return a}function o(a,e,s){var t="",i=1970,n=h,c=$(a);e&&$.isNumeric(e)&&(i=e),s&&$.isNumeric(s)&&(n=s);var r=n;for(r;r>=i;r--)t+='<option value="'+r+'">'+r+"年</option>";c.empty(),c.append(t)}function l(a,e){var s="",t=$(a),i=0,n=e.length;for(i=0;i<n;i++)s+='<option value="'+e[i]+'">'+e[i]+"年</option>";t.empty(),t.append(s)}function d(a,e){var s="",t=1,i=12,n=$(a);e&&$.isNumeric(e)&&h==e&&(i=u);var c=t;for(c;c<=i;c++)s+='<option value="'+c+'">'+c+"月</option>";n.empty(),$(a).append(s),e&&$.isNumeric(e)&&h==e&&n.val(u)}function p(a){a||(a="yyyy-MM-dd hh:mm");var e={"M+":u,"d+":m,"h+":w,"m+":f,"s+":g,"q+":Math.floor((u+2)/3),"S+":y.getMilliseconds()};/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(h+"").substr(4-RegExp.$1.length)));for(var s in e)new RegExp("("+s+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return a}var h=1970,u=1,m=1,y=new Date;a&&("string"==typeof a?y=new Date(a.replace(/-/g,"/")):"number"==typeof a&&(y=new Date(a))),h=y.getFullYear(),u=y.getMonth()+1,m=y.getDate();var w=y.getHours(),f=y.getMinutes(),g=y.getSeconds(),v=y.getDay();return{format:p,getYear:e,getMonth:s,getDay:t,getTime:c,getDate:n,getHour:i,getWeek:r,renderYears:o,renderSpecialYears:l,renderMonths:d}};a.exports=s},220:function(a,e,s){s(72);var t=s(2),i=s(1),n=s(3),c=s(140),r=s(218),o=s(219),l=s(221),d={init:function(){var a=this;a.loadWeather(t.region),a.eventBind()},eventBind:function(){var a=this;$(".js_weather").on("click",".js_list > li",function(){a.loadWeather($(this).data("region"))})},loadWeather:function(a){var e=this;$.ajax({url:n.weather(a)+"&t="+Math.random(),type:"GET",dataType:"jsonp",jsonp:"callback",beforeSend:function(){$(".js_weather").html('<div class="loading"><i class="loading-ic"></i>'+t.loading()+"</div>")},success:function(a){$(".js_weather").html(""),$(".js_weather").append('<canvas id="canvas" class="canvas"></canvas>');var a=a.weatherInfo;a.today=a.hourly_forecast[0],a.basic.cnty===a.basic.name&&(a.basic.name="");for(var s=0;s<a.daily_forecast.length;s++)switch(s){case 0:a.daily_forecast[s].week="今天",a.today.aqi=a.aqi.aqi,a.today.qlty=a.aqi.qlty;break;case 1:a.daily_forecast[s].week="明天";break;case 2:a.daily_forecast[s].week="后天"}switch(a.today.cond.code){case 104:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:case 208:case 209:case 210:case 211:a.className="weaterBg05";break;case 212:case 213:a.className="weaterBg10";break;case 300:case 301:case 305:case 306:case 307:case 308:case 309:case 310:case 311:case 312:case 313:a.className="weaterBg03",new l({id:"canvas",weatherType:"rain",num:200});break;case 304:a.className="weaterBg09";case 302:case 303:a.className="weaterBg06";break;case 400:case 401:case 402:case 403:case 404:case 405:case 406:case 407:a.className="weaterBg02",new l({id:"canvas",weatherType:"snow",num:100});break;case 500:case 501:case 502:a.className="weaterBg07";break;case 503:case 504:case 505:case 506:case 507:case 508:a.className="weaterBg08";break;case 101:case 103:a.className="weaterBg04",new l({id:"canvas",weatherType:"cloud",num:4});break;case 100:a.className="weaterBg01"}var t=i.renderHtml(c,a);$(".js_weather").append(t),$(".js_date").text(o().format("yyyy年MM月dd日")+"，"+o().getWeek()+"，农历"+r()+"，"+o().getHour()+":00天气实况"),e.loadarea()}})},loadarea:function(){i.request({url:n.listByParent,success:function(a){for(var e=[],s=0;s<a.datas.length;s++)e.push("<li data-region = "+a.datas[s].region+">"+a.datas[s].name+"</li>");$(".js_list").html(e.join(""))}})}};$(function(){d.init()})},221:function(a,e){function s(a){"string"!=typeof a.id&&alert("必须传入ID"),d=a.num?a.num:100,this.id=a.id?a.id:"",h=a.weatherType?a.weatherType:"rain",this.fullScreen=!a.fullScreen||a.fullScreen,this.speed=a.speed?a.speed:[0,1],this.init()}function t(){r.clearRect(0,0,o,l);var a=Date.now();u=a-p,p=a,i(),requestAnimFrame(t)}function i(){for(var a=0;a<d;a++)y[a].update(),y[a].draw()}function n(){this.x,this.y,this.xSpd,this.ySpd}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/30)};var c,r,o,l,d,p,h,u,m=new Image,y=[];s.prototype={init:function(){if(c=document.getElementById(this.id),c&&c.getContext){this.fullScreen&&(c.width=document.documentElement.clientWidth,c.height=document.documentElement.clientHeight),r=c.getContext("2d"),o=c.width,l=c.height,m.src="../resource/"+h+".png",p=Date.now();for(var a=0;a<d;a++){var e=new n;y.push(e),y[a].init()}t()}}};var w=function(a,e){this.x=a||0,this.y=e||0};w.prototype.add=function(a){return null!=a.x&&null!=a.y?(this.x+=a.x,this.y+=a.y):(this.x+=a,this.y+=a),this},w.prototype.copy=function(){return new w(this.x,this.y)},n.prototype={init:function(){switch(this.x=Math.random()*o-500,this.y=-(Math.random()*l+100),h){case"rain":this.xSpd=0,this.ySpd=3,this.x=Math.random()*o,this.y=-(Math.random()*l+100);break;case"snow":this.x=Math.random()*o-500,this.y=-(Math.random()*l+100),this.xSpd=.3*Math.random(),this.ySpd=.5*Math.random(),this.distance=50*Math.floor(10*Math.random());break;case"cloud":this.xSpd=.05*Math.random(),this.ySpd=0,this.x=-738,this.y=50*Math.random(),this.distance=738*Math.floor(2*Math.random())}},draw:function(){switch(r.save(),h){case"rain":this.xSpd=0,this.ySpd=3,r.drawImage(m,0,0,50,50,this.x,this.y,50,50);break;case"snow":r.drawImage(m,this.distance,0,50,50,this.x,this.y,50,50);break;case"cloud":r.drawImage(m,this.distance,0,1447,499,this.x,this.y,1447,499)}r.restore()},update:function(){return this.x+=this.xSpd*u,this.y+=this.ySpd*u,this.x<=-1447||this.x>=o?(this.init(),!1):this.y<=-100||this.y>=l?(this.init(),!1):void 0}},a.exports=s}});